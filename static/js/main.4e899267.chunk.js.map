{"version":3,"sources":["redux/authentification/types.js","redux/authentification/reducer.js","redux/store.js","components/VisitorNavbar/index.jsx","redux/authentification/actions.js","components/LoggedInNavbar/index.jsx","components/Navbar/index.jsx","components/PrivateRoute/index.jsx","components/SignUpForm/index.jsx","pages/SignUp/index.jsx","components/LogInForm/index.jsx","pages/LogIn/index.jsx","components/LikeButton/index.jsx","components/Card/index.jsx","pages/CreatePost/index.jsx","pages/Posts/index.jsx","components/PreviewPost/index.jsx","pages/PreviewPosts/index.jsx","pages/Home/index.jsx","pages/Profile/index.jsx","pages/UpdateProfile/index.jsx","pages/UsersProfile/index.jsx","index.js"],"names":["AUTH_USER","DISCONNECT_USER","initialState","is_connected","user","authReducer","state","action","type","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","VisitorNavbar","className","to","authUser","LoggedInNavbar","dispatch","useDispatch","onClick","event","preventDefault","Cookies","remove","Navbar","useSelector","React","useEffect","get","fetch","method","headers","then","response","json","PrivateRoute","Component","component","rest","render","props","pathname","Form","useState","formStatus","setStatus","onSubmit","values","Object","fromEntries","FormData","document","querySelector","body","JSON","stringify","ok","Error","statusText","set","jwt","catch","error","message","name","value","location","href","includes","SignUp","LogIn","LikeButton","likes","setLikes","likeStatus","setLikeStatus","localStorage","getItem","id","updateLikes","newLikesCount","data","like","removeItem","setItem","Card","isAuthor","setAuthor","text","deletePost","username","CreatePost","userInfos","updatePosts","console","log","Posts","posts","setPosts","fetchPosts","map","post","index","PreviewPost","PreviewPosts","Home","Profile","email","UpdateProfile","updateStatus","UsersProfile","setUserInfos","userPosts","setUserPosts","userId","useParams","length","description","App","path","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.4e899267.chunk.js","sourcesContent":["export const AUTH_USER = 'AUTH_USER';\n\nexport const DISCONNECT_USER = 'DISCONNECT_USER';\n","import { AUTH_USER, DISCONNECT_USER } from './types.js';\n\nconst initialState = {\n  is_connected: false,\n  user: {}\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch(action.type) {\n\n    case AUTH_USER:\n      return {\n        ...state,\n        is_connected: true,\n        user: action.user\n      }\n    case DISCONNECT_USER:\n      return {\n        ...state,\n        is_connected: false\n      };\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import { createStore } from 'redux';\nimport authReducer from './authentification/reducer';\n\nconst store = createStore(\n  authReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst VisitorNavbar = () => {\n\n  return (\n    <nav className=\"h-10 w-full border-b border-1 my-2\">\n      <div>\n        <Link to=\"/home\" className=\"mx-2\">Accueil</Link>\n        <Link to=\"/sign-up\" className=\"mx-2\">Sign Up</Link>\n        <Link to=\"/log-in\" className=\"mx-2\">Login</Link>\n      </div>\n    </nav>\n  )\n}\n\nexport default VisitorNavbar;\n","import { AUTH_USER, DISCONNECT_USER } from './types.js';\n\nexport const authUser = (user) => {\n  return {\n    type: AUTH_USER,\n    user\n  }\n};\n\nexport const disconnectUser = () => {\n  return {\n    type: DISCONNECT_USER\n  }\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport { disconnectUser } from './../../redux/index';\nimport { useDispatch } from 'react-redux';\n\nconst LoggedInNavbar = () => {\n  const dispatch = useDispatch();\n\n  const deleteUserSession = (event) => {\n    event.preventDefault();\n    Cookies.remove('token');\n    dispatch(disconnectUser());\n  };\n\n  return (\n    <nav className=\"h-10 w-full border-b border-1 my-2\">\n      <div>\n        <Link to=\"/home\" className=\"mx-2\">Accueil</Link>\n        <Link to=\"/profile\" className=\"mx-2\">Profile</Link>\n        <button onClick={deleteUserSession} className=\"btn btn-sm\">Sign Out</button>\n      </div>\n    </nav>\n  )\n}\n\nexport default LoggedInNavbar;\n","import React from 'react';\nimport VisitorNavbar from './../VisitorNavbar';\nimport LoggedInNavbar from './../LoggedInNavbar';\nimport Cookies from 'js-cookie';\nimport { authUser } from './../../redux/index';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst Navbar = () => {\n  const is_connected = useSelector(state => state.is_connected);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    const checkAuthStatus = () => {\n      let authCookie = Cookies.get('token');\n      if(authCookie) {\n        fetch(\"http://localhost:1337/users/me\", {\n          method: 'get',\n          headers: {\n            'Authorization': `Bearer ${Cookies.get('token')}`,\n            'Content-Type': 'application/json'\n          }\n        })\n          .then(response => response.json())\n          .then(response => {          \n            dispatch(authUser(response));\n          })\n      };\n    };\n    checkAuthStatus();\n  }, []);\n\n  return (\n    <nav className=\"h-10 w-full border-b border-1 my-2\">\n      <div>\n        {is_connected ? <LoggedInNavbar/> : <VisitorNavbar/>}\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar;\n","import React from 'react';\nimport {\n  Redirect,\n  Route,\n} from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const is_connected = useSelector(state => state.is_connected);\n\n  return (\n    <Route\n      {...rest}\n      render={ props => (\n        is_connected ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/log-in\" }} />\n        )\n      )}\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { authUser } from './../../redux/index';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nconst Form = () => {\n  const [formStatus, setStatus] = React.useState('');\n  const is_connected = useSelector(state => state.is_connected);\n  const dispatch = useDispatch();\n\n  const authentify_user = (event) => {\n    let values = Object.fromEntries(new FormData(document.querySelector('form')))\n\n    event.preventDefault();\n\n    fetch(\"http://localhost:1337/auth/local/register\", {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(values)\n    })\n      .then(response => {\n        if(!response.ok) {\n          throw Error(response.statusText)\n        }\n        return response.json()\n      })\n      .then(response => {\n        Cookies.set('token', response.jwt);\n        setStatus(\"You are logged in.\");\n        dispatch(authUser());\n      })\n      .catch(error => {\n        setStatus(error.message);\n      })\n  }\n\n  return (\n    <div>\n      <div>\n        <p>{formStatus}</p>\n      </div>\n      <form onSubmit={authentify_user}>\n        <label>Username</label>\n        <input name=\"username\"/>\n        <br/>\n        <label>email</label>\n        <input name=\"email\"/>\n        <br/>\n        <label>Password</label>\n        <input name=\"password\"/>\n        <br/>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n      {is_connected && window.location.href.includes('sign') ? <Redirect to={{pathname: '/home'}} /> : <p></p> }\n    </div>\n  )\n}\n\nexport default Form;\n","import React from 'react';\nimport Form from './../../components/SignUpForm';\nimport { Link } from 'react-router-dom';\n\nconst SignUp = () => {\n\n  return (\n    <div className=\"container\">\n      <h2>Please, sign up to continue.</h2>\n      <Form />\n      <p>Already registered ?</p>\n      <Link to=\"/log-in\" className=\"mx-2\">Please log in !</Link>\n    </div>\n  )\n}\n\nexport default SignUp;\n","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { authUser } from './../../redux/index';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nconst Form = () => {\n  const [formStatus, setStatus] = React.useState('');\n  const is_connected = useSelector(state => state.is_connected);\n  const dispatch = useDispatch();\n\n  const authentify_user = (event) => {\n    event.preventDefault();\n\n    let values = Object.fromEntries(new FormData(document.querySelector('form')))\n\n    fetch(\"http://localhost:1337/auth/local\", {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(values)\n    })\n      .then(response => {\n        if(!response.ok) {\n          throw Error(response.statusText)\n        }\n        return response.json()\n      })\n      .then(response => {\n        Cookies.set('token', response.jwt);\n        setStatus(\"You are logged in.\");\n        dispatch(authUser(response.user));\n      })\n      .catch(error => {\n        setStatus(error.message);\n      })\n  }\n\n  return (\n    <div>\n      <div>\n        <p>{formStatus}</p>\n      </div>\n      <form onSubmit={authentify_user}>\n        <label>email</label>\n        <input name=\"identifier\"/>\n        <br/>\n        <label>Password</label>\n        <input name=\"password\"/>\n        <br/>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n      {is_connected && window.location.href.includes('log') ? <Redirect to={{pathname: '/home'}} /> : <p></p> }\n    </div>\n  )\n};\n\nexport default Form;\n","import React from 'react';\nimport Form from './../../components/LogInForm';\nimport { Link } from 'react-router-dom';\n\nconst LogIn = () => {\n\n  return (\n    <div className=\"container\">\n      <h2>Please log in to continue !</h2>\n      <Form />\n      <p>Not registered yet ?</p>\n      <Link to=\"/sign-up\" className=\"mx-2\">Please sign up !</Link>\n    </div>\n  )\n};\n\nexport default LogIn;\n","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { useSelector } from 'react-redux';\n\nconst LikeButton = (props) => {\n  const user = useSelector(state => state.user)\n  const [likes, setLikes] = React.useState(props.likes);\n  const [likeStatus, setLikeStatus] = React.useState('not-liked');\n\n\n  React.useEffect(() => {\n    let savedLike = localStorage.getItem(`post-${props.id}`);\n    const isAlreadyLiked = () => {\n      if(savedLike) {\n        setLikeStatus('liked')\n      }\n    };\n    isAlreadyLiked();\n  }, [])\n\n  const updateLikes = (newLikesCount) => {\n    const data = {\n      like: newLikesCount\n    };\n\n    return fetch(`http://localhost:1337/posts/${props.id}`, {\n      method: 'put',\n      headers: {\n        'Authorization': `Bearer ${Cookies.get('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n  }\n\n  const addLike = () => {\n    let newLikesCount = likes + 1;\n\n    updateLikes(newLikesCount)\n      .then(response => response.json())\n      .then(response => {\n        setLikes(newLikesCount);\n        setLikeStatus('liked')\n        localStorage.setItem(`post-${props.id}`, `{\n          status: 'liked',\n          user: ${user.id}\n        }`)\n      })\n  };\n\n  const deleteLike = () => {\n    let newLikesCount = likes - 1;\n\n    updateLikes(newLikesCount)\n      .then(response => response.json())\n      .then(response => {\n        setLikes(newLikesCount);\n        setLikeStatus('not-liked')\n        localStorage.removeItem(`post-${props.id}`);\n      })\n  };\n\n\n    return (\n      <div>\n        {(likeStatus === 'liked') ? <button onClick={deleteLike} className=\"heart inline\">❤</button> : <button onClick={addLike} className=\"heart inline\">♡</button>}\n        {(likes > 0) ? <p className=\"inline ml-2\">Il y a actuellement {likes} likes sur ce post.</p> : <p className=\"inline ml-2\">Il n'y a pas encore de likes sur ce post.</p>}\n      </div>\n    )\n  }\n\nexport default LikeButton;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport LikeButton from './../LikeButton';\nimport { useSelector } from 'react-redux';\n\nconst Card = (props) => {\n  const [isAuthor, setAuthor] = React.useState(false)\n  const user = useSelector(state => state.user);\n\n  const isUserAuthor = () => {\n    if(props.data.user.id === user.id) {\n      setAuthor(true)\n    };\n  };\n\n  const deletePostById = () => {\n    props.deletePost(props.data.id)\n  };\n\n  React.useEffect(() => {isUserAuthor()}, []);\n\n  return (\n    <div className='post-container my-1'>\n      <h3 className=\"inline\">{props.data.text}</h3>\n      {isAuthor ? <i className=\"fas fa-trash-alt inline ml-2\" onClick={deletePostById}></i> : <p></p>}\n      <Link to={`/users/${props.data.user.id}`} className=\"block\">- {props.data.user.username}</Link>\n      <LikeButton likes={props.data.like} id={props.data.id} />\n    </div>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { useSelector } from 'react-redux';\n\nconst CreatePost = (props) => {\n  const userInfos = useSelector(state => state.user);\n\n  const createPost = (event) => {\n    event.preventDefault();\n    let values = Object.fromEntries(new FormData(document.querySelector('form')));\n\n    fetch(`http://localhost:1337/posts`, {\n      method: 'post',\n      headers: {\n        'Authorization': `Bearer ${Cookies.get('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(values)\n    })\n      .then(response => {\n        if(!response.ok) {\n          throw Error(response.statusText)\n        }\n        return response.json()\n      })\n      .then(response => {\n        props.updatePosts();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <form onSubmit={createPost} className=\"container\">\n      <label className=\"block\">New post's text</label>\n      <input name=\"text\" className=\"input\"/>\n      <input type=\"hidden\" name=\"user\" value={userInfos.id} />\n      <input type=\"submit\" value=\"Share\" className=\"submit\" />\n    </form>\n  )\n};\n\nexport default CreatePost;\n","import React from 'react';\nimport Cookies from 'js-cookie';\nimport Card from './../../components/Card';\nimport CreatePost from './../CreatePost';\n\nconst Posts = () => {\n  const [posts, setPosts] = React.useState([]);\n\n  const fetchPosts = () => {\n    fetch(\"http://localhost:1337/posts\", {\n      method: 'get',\n      headers: {\n        'Authorization': `Bearer ${Cookies.get('token')}`,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setPosts(response)\n      })\n  };\n\n  const deletePost = (id) => {\n    fetch(`http://localhost:1337/posts/${id}`, {\n      method: 'delete',\n      headers: {\n        'Authorization': `Bearer ${Cookies.get('token')}`,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(response => {\n        fetchPosts();\n      })\n  };\n\n  React.useEffect(() => {fetchPosts()}, []);\n\n  return (\n    <div className=\"container\">\n      <h2>Feed</h2>\n      <CreatePost updatePosts={fetchPosts}/>\n      <div className=\"\">\n        {posts.map((post, index) =>\n          <Card data={post} key={index} deletePost={deletePost}/>\n        )}\n      </div>\n    </div>\n  )\n};\n\nexport default Posts;\n","import React from 'react';\n\nconst PreviewPost = (props) => {\n\n  return (\n    <div className='post-container my-1'>\n      <h3 className=\"inline\">{props.data.text}</h3>\n    </div>\n  )\n}\n\nexport default PreviewPost;\n","import React from 'react';\nimport PreviewPost from './../../components/PreviewPost';\n\nconst PreviewPosts = () => {\n  const [posts, setPosts] = React.useState([]);\n\n  const fetchPosts = () => {\n    fetch(\"http://localhost:1337/posts\", {\n      method: 'get',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setPosts(response)\n      })\n  };\n\n  React.useEffect(() => {fetchPosts()}, []);\n\n  return (\n    <div className=\"container\">\n      <h2>Feed</h2>\n      <div className=\"\">\n        {posts.map((post, index) =>\n          <PreviewPost data={post} key={index} />\n        )}\n      </div>\n    </div>\n  )\n};\n\nexport default PreviewPosts;\n","import React from 'react';\nimport Posts from './../Posts';\nimport PreviewPosts from './../PreviewPosts';\nimport { useSelector } from 'react-redux';\n\nconst Home = () => {\n  const is_connected = useSelector(state => state.is_connected)\n  return (\n    <div className=\"container\">\n      <h2>Welcome !</h2>\n      <p>Welcome on My Social Network. This website is a training to Redux and React. We use auth and routing to create a small social media website.</p>\n      {is_connected ? <Posts /> : <PreviewPosts />}\n    </div>\n  )\n}\n\nexport default Home;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst Profile = () => {\n  const userInfos = useSelector(state => state.user)\n\n  return (\n    <div className=\"container\">\n      <h2>User Profile</h2>\n      <h3>Welcome {userInfos.username} !</h3>\n      <p>Email address used : {userInfos.email}</p>\n      <Link to=\"/update-profile\">Update profile</Link>\n    </div>\n  )\n}\n\nexport default Profile;\n","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nconst UpdateProfile = () => {\n  const userInfos = useSelector(state => state.user);\n  const [updateStatus, setStatus] = React.useState('')\n\n  const updateUser = (event) => {\n    event.preventDefault();\n    let values = Object.fromEntries(new FormData(document.querySelector('form')));\n\n    fetch(`http://localhost:1337/users/me`, {\n      method: 'put',\n      headers: {\n        'Authorization': `Bearer ${Cookies.get('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(values)\n    })\n      .then(response => {\n        if(!response.ok) {          \n          throw Error(response.statusText)\n        }\n        return response.json()\n      })\n      .then(response => {        \n        setStatus('update_done');\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <form onSubmit={updateUser} className=\"container\">\n      <label>Email</label>\n      <input name=\"email\" value={userInfos.email}/>\n      <br/>\n      <br/>\n      <label>Description</label>\n      <input name=\"description\"/>\n      <br/>\n      <br/>\n      <input type=\"submit\" value=\"Submit\" />\n      {(updateStatus === 'update_done') ? <Redirect to={{pathname: '/profile'}} /> : <p></p> }\n    </form>\n  )\n};\n\nexport default UpdateProfile;\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport Card from './../../components/Card';\n\nconst UsersProfile = () => {\n  const [userInfos, setUserInfos] = React.useState('');\n  const [userPosts, setUserPosts] = React.useState([]);\n  let { userId } = useParams();\n\n  const fetchUserInfos = () => {\n    fetch(`http://localhost:1337/users/${userId}`, {\n      method: 'get',\n      headers: {\n        'Authorization': `Bearer ${Cookies.get('token')}`,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setUserInfos(response);\n      });\n  };\n\n  const fetchUserPosts = () => {\n    fetch(`http://localhost:1337/posts?user.id=${userId}`, {\n      method: 'get',\n      headers: {\n        'Authorization': `Bearer ${Cookies.get('token')}`,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(response => {\n        if(response.length > 0) {\n          setUserPosts(response);\n        };\n      });\n  };\n\n  React.useEffect(() => {fetchUserPosts()}, []);\n  React.useEffect(() => {fetchUserInfos()}, []);\n\n  return (\n    <div className=\"container\">\n      <h2>{userInfos.username}</h2>\n      <p>{userInfos.description}</p>\n        <div className=\"grid grid-cols-3 gap-4\">\n          {userPosts.map((post, index) =>\n            <Card data={post} key={index}/>\n          )}\n        </div>\n\n    </div>\n  )\n};\n\nexport default UsersProfile;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport Navbar from './components/Navbar';\nimport PrivateRoute from './components/PrivateRoute';\nimport SignUp from './pages/SignUp';\nimport LogIn from './pages/LogIn';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport UpdateProfile from './pages/UpdateProfile';\nimport Posts from './pages/Posts';\nimport UsersProfile from './pages/UsersProfile';\n\nconst App = () => {\n\n  return (\n    <Provider store={store}>\n      <Router>\n        <Navbar />\n        <Switch>\n          <Route path=\"/sign-up\" component={SignUp} />\n          <Route path=\"/log-in\" component={LogIn} />\n          <PrivateRoute path=\"/profile\" component={Profile} />\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n          <PrivateRoute path=\"/posts\" component={Posts} />\n          <PrivateRoute path=\"/users/:userId\" component={UsersProfile} />\n          <Route path=\"/home\" component={Home} />\n        </Switch>\n      </Router>\n    </Provider>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}